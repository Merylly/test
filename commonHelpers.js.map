{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport Pagination from 'tui-pagination';\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\n\nconst btn = document.querySelector('.switch-list');\nconst ex = document.querySelector('.exercises-list');\nconst p = document.querySelector('.exercises-page');\nlet pagesize = 8;\n\nasync function getApiInfo({ filter, page = 1, limit = 12, type }) {\n  try {\n    const response = await axios.get(`/${type}`, {\n      params: {\n        filter,\n        page,\n        limit,\n      },\n    });\n    return response.data;\n  } catch {\n    console.error('n');\n  }\n}\n\nasync function get() {\n  try {\n    const exercises = await getApiInfo({\n      type: 'filters',\n      filter: 'Muscles',\n      limit: pagesize,\n    }).then(data => {\n      const { page, totalPages, results } = data;\n      ex.innerHTML = markup(results);\n      // const f = pag(page, totalPages);\n      p.innerHTML = pag(page, totalPages);\n    });\n  } catch {\n    console.error;\n  }\n}\nget();\n\n// const exercises = await getApiInfo({ type: 'filters', filter: 'Muscles' })\n//   .then(data => {\n//     const { page, totalPages, results } = data;\n//     ex.innerHTML = markup(results);\n//   })\n//   .catch(console.error('something wrong'));\n\n// console.log(getApiInfo({ type: 'exercises' }));\n\n// function postApiInfo(userEmail, type) {\n//   return axios.post(`https://energyflow.b.goit.study/api/${type}`, userEmail);\n// }\n\n// export { getApiInfo, postApiInfo };\n\n// const screenWidth = window.innerWidth;\n// let ps = 0;\n\n// if (screenWidth < 375) {\n//   ps = 8;\n// }\n// if (screenWidth <= 768) {\n// }\n\n// const exercises = await getApiInfo('filter', {\n//   params: {\n//     filter: 'Muscles',\n//     limit: 8,\n//   },\n// })\n//   .then(({ data }) => data)\n//   .catch(console.error);\n\n// const result = exercises.data;\n// const pages = exercises.totalPages;\n\n// ex.innerHTML = markup(result);\n\n// console.log(exercises);\n\nfunction markup(results) {\n  const mark = results\n    .map(\n      ({ name, filter, imgUrl }) => `<li class=\"exercises-item\">\n              <a class=\"exercises-link\" href=\"\"\n                ><div class=\"image-container\">\n                  <img class=\"exercises-image\" src=\"${imgUrl}\"/>\n                  <div class=\"text-container\">\n                    <h3 class=\"exercises-title\">${name}</h3>\n                    <p class=\"exercises-text\">${filter}</p>\n                  </div>\n                </div>\n              </a>\n            </li>`\n    )\n    .join();\n  return mark;\n}\n\nfunction pag(p, tp) {\n  let pag = '';\n\n  for (let a = 1; a <= tp; a += 1) {\n    pag += `<button class=\"page active-page\">${i}</button>`;\n  }\n  return pag;\n}\nconsole.log(pag());\n\n// .addEventListener('click', fp);\n\nasync function fp(event) {\n  const current = event.target.textContent;\n  Array.from(event.currentTarget.children).map(item => {\n    if (item.textContent !== currentPage) {\n      item.classList.remove('active-page');\n    } else {\n      e.target.classList.add('active-page');\n    }\n  });\n  try {\n    const { results, page, totalPages } = await get();\n\n    if (page === totalPages) {\n      return;\n    }\n  } catch {}\n}\n\nconst pagination = new Pagination('pagination', {\n  totalItems: 500,\n});\n\npagination.on('beforeMove', function (eventData) {\n  return confirm('Go to page ' + eventData.page + '?');\n});\n\npagination.on('afterMove', function (eventData) {\n  alert('The current page is ' + eventData.page);\n});\n"],"names":["axios","ex","p","pagesize","getApiInfo","filter","page","limit","type","get","exercises","data","totalPages","results","markup","pag","name","imgUrl","tp","a","pagination","Pagination","eventData"],"mappings":"wvBAEAA,EAAM,SAAS,QAAU,sCAEb,SAAS,cAAc,cAAc,EACjD,MAAMC,EAAK,SAAS,cAAc,iBAAiB,EAC7CC,EAAI,SAAS,cAAc,iBAAiB,EAClD,IAAIC,EAAW,EAEf,eAAeC,EAAW,CAAE,OAAAC,EAAQ,KAAAC,EAAO,EAAG,MAAAC,EAAQ,GAAI,KAAAC,GAAQ,CAChE,GAAI,CAQF,OAPiB,MAAMR,EAAM,IAAI,IAAIQ,CAAI,GAAI,CAC3C,OAAQ,CACN,OAAAH,EACA,KAAAC,EACA,MAAAC,CACD,CACP,CAAK,GACe,IACpB,MAAU,CACN,QAAQ,MAAM,GAAG,CAClB,CACH,CAEA,eAAeE,GAAM,CACnB,GAAI,CACF,MAAMC,EAAY,MAAMN,EAAW,CACjC,KAAM,UACN,OAAQ,UACR,MAAOD,CACb,CAAK,EAAE,KAAKQ,GAAQ,CACd,KAAM,CAAE,KAAAL,EAAM,WAAAM,EAAY,QAAAC,CAAO,EAAKF,EACtCV,EAAG,UAAYa,EAAOD,CAAO,EAE7BX,EAAE,UAAYa,EAAIT,EAAMM,CAAU,CACxC,CAAK,CACL,MAAU,CAEP,CACH,CACAH,IA0CA,SAASK,EAAOD,EAAS,CAgBvB,OAfaA,EACV,IACC,CAAC,CAAE,KAAAG,EAAM,OAAAX,EAAQ,OAAAY,CAAQ,IAAK;AAAA;AAAA;AAAA,sDAGkBA,CAAM;AAAA;AAAA,kDAEVD,CAAI;AAAA,gDACNX,CAAM;AAAA;AAAA;AAAA;AAAA,kBAKjD,EACA,MAEL,CAEA,SAASU,EAAIb,EAAGgB,EAAI,CAClB,IAAIH,EAAM,GAEV,QAASI,EAAI,EAAGA,GAAKD,EAAIC,GAAK,EAC5BJ,GAAO,oCAAoC,CAAC,YAE9C,OAAOA,CACT,CACA,QAAQ,IAAIA,EAAG,CAAE,EAsBjB,MAAMK,EAAa,IAAIC,EAAW,aAAc,CAC9C,WAAY,GACd,CAAC,EAEDD,EAAW,GAAG,aAAc,SAAUE,EAAW,CAC/C,OAAO,QAAQ,cAAgBA,EAAU,KAAO,GAAG,CACrD,CAAC,EAEDF,EAAW,GAAG,YAAa,SAAUE,EAAW,CAC9C,MAAM,uBAAyBA,EAAU,IAAI,CAC/C,CAAC"}